<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page Not Found - CALT</title>
    <link rel="icon" type="image/png" href="/assets/img/logo.png">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Main stylesheet for CSS variables -->
    <link rel="stylesheet" href="css/styles.css">

    <style>        
        body {
            font-family: var(--font-primary);
            background-color: var(--color-bg);
            color: var(--color-black);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            text-align: center;
        }
        
        .content {
            max-width: 600px;
        }
        
        h1 {
            font-size: clamp(2rem, 6vw, 3.5rem);
            font-weight: 800;
            letter-spacing: -0.05em;
            margin-bottom: 1rem;
        }
        
        .accent {
            color: var(--color-primary);
        }
        
        .graphic {
            width: 100%;
            max-width: 400px;
            margin: 2rem auto;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <div class="content" id="content">
        <!-- Content will be injected by JavaScript -->
    </div>
    
    <script>
        const currentPath = window.location.pathname;
        const contentDiv = document.getElementById('content');
        
        // Check if this is an /events/* path
        if (currentPath.startsWith('/events/')) {
            // Extract event ID from path
            const eventId = currentPath.split('/events/')[1].replace('/', '');
            
            // Deep link URL for the app
            const appDeepLink = `calt://event/${eventId}`;
            
            contentDiv.innerHTML = `
                <h1>Open in <span class="accent">CALT</span></h1>
            `;
            
            // Redirect to app immediately
            window.location.href = appDeepLink;
            
        } else {
            // Regular 404 page - minimal design
            contentDiv.innerHTML = `
                <h1><span class="accent">404</span></h1>
                <h1>Oops! Nothing here</h1>
                <svg class="graphic" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#72B9E6;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#619EC4;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <!-- Empty box -->
                    <rect x="100" y="100" width="200" height="150" fill="none" stroke="url(#grad)" stroke-width="4" rx="10"/>
                    <!-- Sad face -->
                    <circle cx="160" cy="150" r="8" fill="url(#grad)"/>
                    <circle cx="240" cy="150" r="8" fill="url(#grad)"/>
                    <path d="M 160 200 Q 200 180 240 200" fill="none" stroke="url(#grad)" stroke-width="4" stroke-linecap="round"/>
                    <!-- Floating question marks -->
                    <text x="80" y="80" font-size="40" fill="url(#grad)" opacity="0.5">?</text>
                    <text x="300" y="90" font-size="40" fill="url(#grad)" opacity="0.5">?</text>
                    <text x="320" y="200" font-size="30" fill="url(#grad)" opacity="0.3">?</text>
                </svg>
            `;
        }
    </script>
</body>
</html>